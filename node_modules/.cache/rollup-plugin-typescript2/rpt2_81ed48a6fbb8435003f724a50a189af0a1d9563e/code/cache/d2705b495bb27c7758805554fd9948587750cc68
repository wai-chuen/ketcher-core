{"code":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { Scale } from \"../../../domain/helpers\";\r\nimport Visel from './visel';\r\nclass ReObject {\r\n    visel;\r\n    hover = false;\r\n    hovering = null;\r\n    selected = false;\r\n    selectionPlate = null;\r\n    constructor(viselType) {\r\n        this.visel = new Visel(viselType);\r\n    }\r\n    getVBoxObj(render) {\r\n        let vbox = this.visel.boundingBox;\r\n        if (vbox === null)\r\n            return null;\r\n        if (render.options.offset) {\r\n            vbox = vbox.translate(render.options.offset.negated());\r\n        }\r\n        return vbox.transform(Scale.scaled2obj, render.options);\r\n    }\r\n    setHover(hover, render) {\r\n        // TODO render should be field\r\n        if (hover) {\r\n            let noredraw = 'hovering' in this && this.hovering !== null; // && !this.highlighting.removed;\r\n            if (noredraw) {\r\n                if (this.hovering.type === 'set') {\r\n                    if (!this.hovering[0])\r\n                        return;\r\n                    noredraw = !this.hovering[0].removed;\r\n                }\r\n                else {\r\n                    noredraw = !this.hovering.removed;\r\n                }\r\n            }\r\n            if (noredraw) {\r\n                this.hovering.show();\r\n            }\r\n            else {\r\n                render.paper.setStart();\r\n                this.drawHover(render);\r\n                this.hovering = render.paper.setFinish();\r\n            }\r\n        }\r\n        else if (this.hovering) {\r\n            this.hovering.hide();\r\n        }\r\n        this.hover = hover;\r\n    }\r\n    drawHover(_render) {\r\n        throw new Error('ReObject.drawHover is not overridden.');\r\n    }\r\n    makeSelectionPlate(_restruct, _paper, _styles) {\r\n        throw new Error('ReObject.makeSelectionPlate is not overridden');\r\n    }\r\n}\r\nexport default ReObject;\r\n//# sourceMappingURL=reobject.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/domain/entities/index.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/restruct/restruct.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/raphaelRender.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/domain/helpers/index.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/restruct/visel.js"],"map":"{\"version\":3,\"file\":\"reobject.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/application/render/restruct/reobject.ts\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;6EAc6E;AAK7E,OAAO,EAAE,KAAK,EAAE,gCAAsB;AACtC,OAAO,KAAK,MAAM,SAAS,CAAA;AAE3B,MAAM,QAAQ;IACL,KAAK,CAAO;IACZ,KAAK,GAAG,KAAK,CAAA;IACb,QAAQ,GAAQ,IAAI,CAAA;IACpB,QAAQ,GAAG,KAAK,CAAA;IAChB,cAAc,GAAQ,IAAI,CAAA;IAEjC,YAAY,SAAiB;QAC3B,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,CAAA;IACnC,CAAC;IAED,UAAU,CAAC,MAAc;QACvB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAA;QACjC,IAAI,IAAI,KAAK,IAAI;YAAE,OAAO,IAAI,CAAA;QAC9B,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE;YACzB,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAA;SACvD;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,OAAO,CAAC,CAAA;IACzD,CAAC;IAED,QAAQ,CAAC,KAAc,EAAE,MAAc;QACrC,8BAA8B;QAC9B,IAAI,KAAK,EAAE;YACT,IAAI,QAAQ,GAAG,UAAU,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAA,CAAC,iCAAiC;YAC7F,IAAI,QAAQ,EAAE;gBACZ,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,KAAK,EAAE;oBAChC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAAE,OAAM;oBAC7B,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAA;iBACrC;qBAAM;oBACL,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAA;iBAClC;aACF;YACD,IAAI,QAAQ,EAAE;gBACZ,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAA;aACrB;iBAAM;gBACL,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAA;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;gBACtB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,CAAA;aACzC;SACF;aAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;YACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAA;SACrB;QAED,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;IACpB,CAAC;IAED,SAAS,CAAC,OAAe;QACvB,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAA;IAC1D,CAAC;IAED,kBAAkB,CAAC,SAAmB,EAAE,MAAW,EAAE,OAAY;QAC/D,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAA;IAClE,CAAC;CACF;AAED,eAAe,QAAQ,CAAA\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/node_modules/.cache/rollup-plugin-typescript2/placeholder/application/render/restruct/reobject.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { Box2Abs } from \"../../../domain/entities\";\r\nimport ReStruct from './restruct';\r\nimport { Render } from '../raphaelRender';\r\nimport Visel from './visel';\r\ndeclare class ReObject {\r\n    visel: Visel;\r\n    hover: boolean;\r\n    hovering: any;\r\n    selected: boolean;\r\n    selectionPlate: any;\r\n    constructor(viselType: string);\r\n    getVBoxObj(render: Render): Box2Abs | null;\r\n    setHover(hover: boolean, render: Render): void;\r\n    drawHover(_render: Render): any;\r\n    makeSelectionPlate(_restruct: ReStruct, _paper: any, _styles: any): any;\r\n}\r\nexport default ReObject;\r\n"}}
