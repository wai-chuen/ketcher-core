{"code":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { Vec2 } from './vec2';\r\nimport assert from 'assert';\r\nexport class Box2Abs {\r\n    p0;\r\n    p1;\r\n    constructor(...args) {\r\n        if (args.length === 1 && 'min' in args[0] && 'max' in args[0]) {\r\n            this.p0 = args[0].min;\r\n            this.p1 = args[0].max;\r\n        }\r\n        if (args.length === 2) {\r\n            this.p0 = args[0];\r\n            this.p1 = args[1];\r\n        }\r\n        else if (args.length === 4) {\r\n            this.p0 = new Vec2(args[0], args[1]);\r\n            this.p1 = new Vec2(args[2], args[3]);\r\n        }\r\n        else if (args.length === 0) {\r\n            this.p0 = new Vec2();\r\n            this.p1 = new Vec2();\r\n        }\r\n        else {\r\n            throw new Error('Box2Abs constructor only accepts 4 numbers or 2 vectors or no args!');\r\n        }\r\n    }\r\n    toString() {\r\n        return this.p0.toString() + ' ' + this.p1.toString();\r\n    }\r\n    clone() {\r\n        return new Box2Abs(this.p0, this.p1);\r\n    }\r\n    extend(lp, rb) {\r\n        rb = rb || lp;\r\n        return new Box2Abs(this.p0.sub(lp), this.p1.add(rb));\r\n    }\r\n    include(p) {\r\n        assert(p != null);\r\n        return new Box2Abs(this.p0.min(p), this.p1.max(p));\r\n    }\r\n    contains(p, ext = 0.0) {\r\n        assert(p != null);\r\n        return (p.x >= this.p0.x - ext &&\r\n            p.x <= this.p1.x + ext &&\r\n            p.y >= this.p0.y - ext &&\r\n            p.y <= this.p1.y + ext);\r\n    }\r\n    translate(d) {\r\n        return new Box2Abs(this.p0.add(d), this.p1.add(d));\r\n    }\r\n    transform(f, options) {\r\n        assert(typeof f === 'function');\r\n        return new Box2Abs(f(this.p0, options), f(this.p1, options));\r\n    }\r\n    sz() {\r\n        return this.p1.sub(this.p0);\r\n    }\r\n    centre() {\r\n        return Vec2.centre(this.p0, this.p1);\r\n    }\r\n    pos() {\r\n        return this.p0;\r\n    }\r\n    static fromRelBox(relBox) {\r\n        return new Box2Abs(relBox.x, relBox.y, relBox.x + relBox.width, relBox.y + relBox.height);\r\n    }\r\n    static union(b1, b2) {\r\n        return new Box2Abs(Vec2.min(b1.p0, b2.p0), Vec2.max(b1.p1, b2.p1));\r\n    }\r\n    static segmentIntersection(a, b, c, d) {\r\n        const dc = (a.x - c.x) * (b.y - c.y) - (a.y - c.y) * (b.x - c.x);\r\n        const dd = (a.x - d.x) * (b.y - d.y) - (a.y - d.y) * (b.x - d.x);\r\n        const da = (c.x - a.x) * (d.y - a.y) - (c.y - a.y) * (d.x - a.x);\r\n        const db = (c.x - b.x) * (d.y - b.y) - (c.y - b.y) * (d.x - b.x);\r\n        return dc * dd <= 0 && da * db <= 0;\r\n    }\r\n}\r\n//# sourceMappingURL=box2Abs.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/domain/entities/vec2.ts","/usr/local/google/home/waich/workspace/ketcher/node_modules/assert/build/assert.js"],"map":"{\"version\":3,\"file\":\"box2Abs.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/domain/entities/box2Abs.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/node_modules/.cache/rollup-plugin-typescript2/placeholder/domain/entities/box2Abs.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { Vec2 } from './vec2';\r\nexport declare class Box2Abs {\r\n    readonly p0: Vec2;\r\n    readonly p1: Vec2;\r\n    constructor();\r\n    constructor(p: Vec2);\r\n    constructor(p0: Vec2, p1: Vec2);\r\n    constructor(x0: number, y0: number, x1: number, y1: number);\r\n    toString(): string;\r\n    clone(): Box2Abs;\r\n    extend(lp: Vec2, rb: Vec2): Box2Abs;\r\n    include(p: Vec2): Box2Abs;\r\n    contains(p: Vec2, ext?: number): boolean;\r\n    translate(d: Vec2): Box2Abs;\r\n    transform(f: (p: Vec2, options: any) => Vec2, options: any): Box2Abs;\r\n    sz(): Vec2;\r\n    centre(): Vec2;\r\n    pos(): Vec2;\r\n    static fromRelBox(relBox: any): Box2Abs;\r\n    static union(b1: Box2Abs, b2: Box2Abs): Box2Abs;\r\n    static segmentIntersection(a: Vec2, b: Vec2, c: Vec2, d: Vec2): boolean;\r\n}\r\n"}}
