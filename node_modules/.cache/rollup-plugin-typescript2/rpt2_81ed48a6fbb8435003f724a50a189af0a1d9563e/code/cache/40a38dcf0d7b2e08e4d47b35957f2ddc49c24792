{"code":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { Bond, Box2Abs, FunctionalGroup, StereoFlag, StereoLabel, Vec2 } from \"../../../domain/entities\";\r\nimport { ElementColor, Elements } from \"../../../domain/constants\";\r\nimport { LayerMap, StereLabelStyleType, StereoColoringType } from './generalEnumTypes';\r\nimport ReObject from './reobject';\r\nimport { Scale } from \"../../../domain/helpers\";\r\nimport draw from '../draw';\r\nimport util from '../util';\r\nconst StereoLabelMinOpacity = 0.3;\r\nvar ShowHydrogenLabels;\r\n(function (ShowHydrogenLabels) {\r\n    ShowHydrogenLabels[\"Off\"] = \"off\";\r\n    ShowHydrogenLabels[\"Hetero\"] = \"Hetero\";\r\n    ShowHydrogenLabels[\"Terminal\"] = \"Terminal\";\r\n    ShowHydrogenLabels[\"TerminalAndHetero\"] = \"Terminal and Hetero\";\r\n    ShowHydrogenLabels[\"On\"] = \"on\";\r\n})(ShowHydrogenLabels || (ShowHydrogenLabels = {}));\r\nclass ReAtom extends ReObject {\r\n    a;\r\n    showLabel;\r\n    hydrogenOnTheLeft;\r\n    color;\r\n    component;\r\n    label;\r\n    constructor(atom) {\r\n        super('atom');\r\n        this.a = atom; // TODO rename a to item\r\n        this.showLabel = false;\r\n        this.hydrogenOnTheLeft = false;\r\n        this.color = '#000000';\r\n        this.component = -1;\r\n    }\r\n    static isSelectable() {\r\n        return true;\r\n    }\r\n    getVBoxObj(render) {\r\n        if (this.visel.boundingBox) {\r\n            return ReObject.prototype.getVBoxObj.call(this, render);\r\n        }\r\n        return new Box2Abs(this.a.pp, this.a.pp);\r\n    }\r\n    drawHover(render) {\r\n        const ret = this.makeHoverPlate(render);\r\n        render.ctab.addReObjectPath(LayerMap.hovering, this.visel, ret);\r\n        return ret;\r\n    }\r\n    makeHoverPlate(render) {\r\n        const paper = render.paper;\r\n        const options = render.options;\r\n        const ps = Scale.obj2scaled(this.a.pp, options);\r\n        const atom = this.a;\r\n        const sgroups = render.ctab.sgroups;\r\n        const functionalGroups = render.ctab.molecule.functionalGroups;\r\n        if (FunctionalGroup.isAtomInContractedFunctionalGroup(atom, sgroups, functionalGroups, true)) {\r\n            return null;\r\n        }\r\n        return paper\r\n            .circle(ps.x, ps.y, options.atomSelectionPlateRadius)\r\n            .attr(options.hoverStyle);\r\n    }\r\n    makeSelectionPlate(restruct, paper, styles) {\r\n        const atom = this.a;\r\n        const sgroups = restruct.render.ctab.sgroups;\r\n        const functionalGroups = restruct.render.ctab.molecule.functionalGroups;\r\n        if (FunctionalGroup.isAtomInContractedFunctionalGroup(atom, sgroups, functionalGroups, true)) {\r\n            return null;\r\n        }\r\n        const ps = Scale.obj2scaled(this.a.pp, restruct.render.options);\r\n        return paper\r\n            .circle(ps.x, ps.y, styles.atomSelectionPlateRadius)\r\n            .attr(styles.selectionStyle);\r\n    }\r\n    show(restruct, aid, options) {\r\n        // eslint-disable-line max-statements\r\n        const atom = restruct.molecule.atoms.get(aid);\r\n        const sgroups = restruct.molecule.sgroups;\r\n        const functionalGroups = restruct.molecule.functionalGroups;\r\n        const render = restruct.render;\r\n        const ps = Scale.obj2scaled(this.a.pp, render.options);\r\n        if (FunctionalGroup.isAtomInContractedFunctionalGroup(atom, sgroups, functionalGroups, false)) {\r\n            if (FunctionalGroup.isAttachmentPointAtom(aid, restruct.molecule)) {\r\n                let sgroupName;\r\n                for (const sg of sgroups.values()) {\r\n                    if (sg.atoms.includes(aid))\r\n                        sgroupName = sg.data.name;\r\n                }\r\n                const path = render.paper.text(ps.x, ps.y, sgroupName).attr({\r\n                    'font-weight': 700,\r\n                    'font-size': 14\r\n                });\r\n                restruct.addReObjectPath(LayerMap.data, this.visel, path, ps, true);\r\n            }\r\n            return;\r\n        }\r\n        this.hydrogenOnTheLeft = setHydrogenPos(restruct.molecule, this);\r\n        this.showLabel = isLabelVisible(restruct, render.options, this);\r\n        this.color = 'black'; // reset colour\r\n        let delta;\r\n        let rightMargin;\r\n        let leftMargin;\r\n        let implh;\r\n        let isHydrogen;\r\n        let label;\r\n        let index = null;\r\n        if (this.showLabel) {\r\n            label = buildLabel(this, render.paper, ps, options);\r\n            delta = 0.5 * options.lineWidth;\r\n            rightMargin =\r\n                (label.rbb.width / 2) * (options.zoom > 1 ? 1 : options.zoom);\r\n            leftMargin =\r\n                (-label.rbb.width / 2) * (options.zoom > 1 ? 1 : options.zoom);\r\n            implh = Math.floor(this.a.implicitH);\r\n            isHydrogen = label.text === 'H';\r\n            restruct.addReObjectPath(LayerMap.data, this.visel, label.path, ps, true);\r\n        }\r\n        if (options.showAtomIds) {\r\n            index = {};\r\n            index.text = aid.toString();\r\n            let idPos = this.hydrogenOnTheLeft\r\n                ? Vec2.lc(ps, 1, new Vec2({ x: -2, y: 0, z: 0 }), 6)\r\n                : Vec2.lc(ps, 1, new Vec2({ x: 2, y: 0, z: 0 }), 6);\r\n            if (this.showLabel) {\r\n                idPos = Vec2.lc(idPos, 1, new Vec2({ x: 1, y: -3, z: 0 }), 6);\r\n            }\r\n            index.path = render.paper.text(idPos.x, idPos.y, index.text).attr({\r\n                font: options.font,\r\n                'font-size': options.fontszsub,\r\n                fill: '#070'\r\n            });\r\n            index.rbb = util.relBox(index.path.getBBox());\r\n            draw.recenterText(index.path, index.rbb);\r\n            restruct.addReObjectPath(LayerMap.indices, this.visel, index.path, ps);\r\n        }\r\n        this.setHover(this.hover, render);\r\n        if (this.showLabel && !this.a.pseudo) {\r\n            let hydroIndex = null;\r\n            if (isHydrogen && implh > 0) {\r\n                hydroIndex = showHydroIndex(this, render, implh, rightMargin);\r\n                rightMargin += hydroIndex.rbb.width + delta;\r\n                restruct.addReObjectPath(LayerMap.data, this.visel, hydroIndex.path, ps, true);\r\n            }\r\n            if (this.a.radical !== 0) {\r\n                const radical = showRadical(this, render);\r\n                restruct.addReObjectPath(LayerMap.data, this.visel, radical.path, ps, true);\r\n            }\r\n            if (this.a.isotope !== 0) {\r\n                const isotope = showIsotope(this, render, leftMargin);\r\n                leftMargin -= isotope.rbb.width + delta;\r\n                restruct.addReObjectPath(LayerMap.data, this.visel, isotope.path, ps, true);\r\n            }\r\n            if (!isHydrogen &&\r\n                !this.a.alias &&\r\n                implh > 0 &&\r\n                displayHydrogen(options.showHydrogenLabels, this)) {\r\n                const data = showHydrogen(this, render, implh, {\r\n                    hydrogen: {},\r\n                    hydroIndex,\r\n                    rightMargin,\r\n                    leftMargin\r\n                });\r\n                const hydrogen = data.hydrogen;\r\n                hydroIndex = data.hydroIndex;\r\n                rightMargin = data.rightMargin;\r\n                leftMargin = data.leftMargin;\r\n                restruct.addReObjectPath(LayerMap.data, this.visel, hydrogen.path, ps, true);\r\n                if (hydroIndex != null) {\r\n                    restruct.addReObjectPath(LayerMap.data, this.visel, hydroIndex.path, ps, true);\r\n                }\r\n            }\r\n            if (this.a.charge !== 0 && options.showCharge) {\r\n                const charge = showCharge(this, render, rightMargin);\r\n                rightMargin += charge.rbb.width + delta;\r\n                restruct.addReObjectPath(LayerMap.data, this.visel, charge.path, ps, true);\r\n            }\r\n            if (this.a.explicitValence >= 0 && options.showValence) {\r\n                const valence = showExplicitValence(this, render, rightMargin);\r\n                rightMargin += valence.rbb.width + delta;\r\n                restruct.addReObjectPath(LayerMap.data, this.visel, valence.path, ps, true);\r\n            }\r\n            if (this.a.badConn && options.showValenceWarnings) {\r\n                const warning = showWarning(this, render, leftMargin, rightMargin);\r\n                restruct.addReObjectPath(LayerMap.warnings, this.visel, warning.path, ps, true);\r\n            }\r\n            if (index) {\r\n                /* eslint-disable no-mixed-operators */\r\n                pathAndRBoxTranslate(index.path, index.rbb, -0.5 * label.rbb.width - 0.5 * index.rbb.width - delta, 0.3 * label.rbb.height);\r\n                /* eslint-enable no-mixed-operators */\r\n            }\r\n        }\r\n        if (this.a.attpnt) {\r\n            const lsb = bisectLargestSector(this, restruct.molecule);\r\n            showAttpnt(this, render, lsb, restruct.addReObjectPath.bind(restruct));\r\n        }\r\n        const stereoLabel = this.a.stereoLabel; // Enhanced Stereo\r\n        const aamText = getAamText(this);\r\n        const queryAttrsText = !this.a.pseudo ? getQueryAttrsText(this) : '';\r\n        // we render them together to avoid possible collisions\r\n        const fragmentId = Number(restruct.atoms.get(aid)?.a.fragment);\r\n        // TODO: fragment should not be null\r\n        const fragment = restruct.molecule.frags.get(fragmentId);\r\n        const text = (shouldDisplayStereoLabel(stereoLabel, options.stereoLabelStyle, options.ignoreChiralFlag, fragment?.enhancedStereoFlag)\r\n            ? `${stereoLabel}\\n`\r\n            : '') +\r\n            (queryAttrsText.length > 0 ? `${queryAttrsText}\\n` : '') +\r\n            (aamText.length > 0 ? `.${aamText}.` : '');\r\n        if (text.length > 0) {\r\n            const elem = Elements.get(this.a.label);\r\n            const aamPath = render.paper.text(ps.x, ps.y, text).attr({\r\n                font: options.font,\r\n                'font-size': options.fontszsub,\r\n                fill: options.atomColoring && elem ? ElementColor[this.a.label] : '#000'\r\n            });\r\n            if (stereoLabel) {\r\n                // use dom element to change color of stereo label which is the first element\r\n                // of just created text\r\n                // text -> tspan\r\n                const color = getStereoAtomColor(render.options, stereoLabel);\r\n                aamPath.node.childNodes[0].setAttribute('fill', color);\r\n                const opacity = getStereoAtomOpacity(render.options, stereoLabel);\r\n                aamPath.node.childNodes[0].setAttribute('fill-opacity', opacity);\r\n            }\r\n            const aamBox = util.relBox(aamPath.getBBox());\r\n            draw.recenterText(aamPath, aamBox);\r\n            const visel = this.visel;\r\n            let t = 3;\r\n            let dir = bisectLargestSector(this, restruct.molecule);\r\n            // estimate the shift to clear the atom label\r\n            for (let i = 0; i < visel.exts.length; ++i) {\r\n                t = Math.max(t, util.shiftRayBox(ps, dir, visel.exts[i].translate(ps)));\r\n            }\r\n            // estimate the shift backwards to account for the size of the aam/query text box itself\r\n            t += util.shiftRayBox(ps, dir.negated(), Box2Abs.fromRelBox(aamBox));\r\n            dir = dir.scaled(8 + t);\r\n            pathAndRBoxTranslate(aamPath, aamBox, dir.x, dir.y);\r\n            restruct.addReObjectPath(LayerMap.data, this.visel, aamPath, ps, true);\r\n        }\r\n        // Checking whether atom is highlighted and what's the last color\r\n        const highlights = restruct.molecule.highlights;\r\n        let isHighlighted = false;\r\n        let highlightColor = '';\r\n        highlights.forEach((highlight) => {\r\n            const hasCurrentHighlight = highlight.atoms?.includes(aid);\r\n            isHighlighted = isHighlighted || hasCurrentHighlight;\r\n            if (hasCurrentHighlight) {\r\n                highlightColor = highlight.color;\r\n            }\r\n        });\r\n        // Drawing highlight\r\n        if (isHighlighted) {\r\n            const style = { fill: highlightColor, stroke: 'none' };\r\n            const ps = Scale.obj2scaled(this.a.pp, restruct.render.options);\r\n            const path = render.paper\r\n                .circle(ps.x, ps.y, options.atomSelectionPlateRadius * 0.8)\r\n                .attr(style);\r\n            restruct.addReObjectPath(LayerMap.hovering, this.visel, path);\r\n        }\r\n    }\r\n}\r\nfunction getStereoAtomColor(options, stereoLabel) {\r\n    if (!stereoLabel ||\r\n        options.colorStereogenicCenters === StereoColoringType.Off ||\r\n        options.colorStereogenicCenters === StereoColoringType.BondsOnly) {\r\n        return '#000';\r\n    }\r\n    return getColorFromStereoLabel(options, stereoLabel);\r\n}\r\nexport function getColorFromStereoLabel(options, stereoLabel) {\r\n    const stereoLabelType = stereoLabel.match(/\\D+/g)[0];\r\n    switch (stereoLabelType) {\r\n        case StereoLabel.And:\r\n            return options.colorOfAndCenters;\r\n        case StereoLabel.Or:\r\n            return options.colorOfOrCenters;\r\n        case StereoLabel.Abs:\r\n            return options.colorOfAbsoluteCenters;\r\n        default:\r\n            return '#000';\r\n    }\r\n}\r\nfunction getStereoAtomOpacity(options, stereoLabel) {\r\n    const stereoLabelType = stereoLabel.match(/\\D+/g)[0];\r\n    const stereoLabelNumber = +stereoLabel.replace(stereoLabelType, '');\r\n    if (!options.autoFadeOfStereoLabels ||\r\n        stereoLabelType === StereoLabel.Abs ||\r\n        options.colorStereogenicCenters === StereoColoringType.Off ||\r\n        options.colorStereogenicCenters === StereoColoringType.BondsOnly) {\r\n        return 1;\r\n    }\r\n    return Math.max(1 - (stereoLabelNumber - 1) / 10, StereoLabelMinOpacity);\r\n}\r\nfunction shouldDisplayStereoLabel(stereoLabel, labelStyle, ignoreChiralFlag, flag) {\r\n    if (!stereoLabel) {\r\n        return false;\r\n    }\r\n    const stereoLabelType = stereoLabel.match(/\\D+/g)[0];\r\n    if (ignoreChiralFlag && stereoLabelType === StereoLabel.Abs) {\r\n        return false;\r\n    }\r\n    if (ignoreChiralFlag && stereoLabelType !== StereoLabel.Abs) {\r\n        return true;\r\n    }\r\n    switch (labelStyle) {\r\n        // Off\r\n        case StereLabelStyleType.Off:\r\n            return false;\r\n        // On\r\n        case StereLabelStyleType.On:\r\n            return true;\r\n        // Classic\r\n        case StereLabelStyleType.Classic:\r\n            return !!(flag === StereoFlag.Mixed || stereoLabelType === StereoLabel.Or);\r\n        // IUPAC\r\n        case StereLabelStyleType.IUPAC:\r\n            return !!(flag === StereoFlag.Mixed && stereoLabelType !== StereoLabel.Abs);\r\n        default:\r\n            return true;\r\n    }\r\n}\r\nfunction isLabelVisible(restruct, options, atom) {\r\n    const visibleTerminal = options.showHydrogenLabels !== ShowHydrogenLabels.Off &&\r\n        options.showHydrogenLabels !== ShowHydrogenLabels.Hetero;\r\n    const neighborsLength = atom.a.neighbors.length === 0 ||\r\n        (atom.a.neighbors.length < 2 && visibleTerminal);\r\n    const shouldBeVisible = neighborsLength ||\r\n        options.carbonExplicitly ||\r\n        atom.a.alias ||\r\n        atom.a.isotope !== 0 ||\r\n        atom.a.radical !== 0 ||\r\n        atom.a.charge !== 0 ||\r\n        atom.a.explicitValence >= 0 ||\r\n        atom.a.atomList !== null ||\r\n        atom.a.rglabel !== null ||\r\n        (atom.a.badConn && options.showValenceWarnings) ||\r\n        atom.a.label.toLowerCase() !== 'c';\r\n    if (shouldBeVisible)\r\n        return true;\r\n    if (atom.a.neighbors.length === 2) {\r\n        const nei1 = atom.a.neighbors[0];\r\n        const nei2 = atom.a.neighbors[1];\r\n        const hb1 = restruct.molecule.halfBonds.get(nei1);\r\n        const hb2 = restruct.molecule.halfBonds.get(nei2);\r\n        const bond1 = restruct.bonds.get(hb1.bid);\r\n        const bond2 = restruct.bonds.get(hb2.bid);\r\n        const sameNotStereo = bond1.b.type === bond2.b.type &&\r\n            bond1.b.stereo === Bond.PATTERN.STEREO.NONE &&\r\n            bond2.b.stereo === Bond.PATTERN.STEREO.NONE;\r\n        if (sameNotStereo && Math.abs(Vec2.cross(hb1.dir, hb2.dir)) < 0.2) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction displayHydrogen(hydrogenLabels, atom) {\r\n    return (hydrogenLabels === ShowHydrogenLabels.On ||\r\n        (hydrogenLabels === ShowHydrogenLabels.Terminal &&\r\n            atom.a.neighbors.length < 2) ||\r\n        (hydrogenLabels === ShowHydrogenLabels.Hetero &&\r\n            atom.label.text.toLowerCase() !== 'c') ||\r\n        (hydrogenLabels === ShowHydrogenLabels.TerminalAndHetero &&\r\n            (atom.a.neighbors.length < 2 || atom.label.text.toLowerCase() !== 'c')));\r\n}\r\nfunction setHydrogenPos(struct, atom) {\r\n    // check where should the hydrogen be put on the left of the label\r\n    if (atom.a.neighbors.length === 0) {\r\n        const element = Elements.get(atom.a.label);\r\n        return !element || Boolean(element.leftH);\r\n    }\r\n    let yl = 1;\r\n    let yr = 1;\r\n    let nl = 0;\r\n    let nr = 0;\r\n    atom.a.neighbors.forEach((nei) => {\r\n        const d = struct.halfBonds.get(nei).dir;\r\n        if (d.x <= 0) {\r\n            yl = Math.min(yl, Math.abs(d.y));\r\n            nl++;\r\n        }\r\n        else {\r\n            yr = Math.min(yr, Math.abs(d.y));\r\n            nr++;\r\n        }\r\n    });\r\n    return yl < 0.51 || yr < 0.51 ? yr < yl : nr > nl;\r\n}\r\nfunction buildLabel(atom, paper, ps, options) {\r\n    // eslint-disable-line max-statements\r\n    let label = {};\r\n    label.text = getLabelText(atom.a);\r\n    if (label.text === '')\r\n        label = 'R#'; // for structures that missed 'M  RGP' tag in molfile\r\n    if (label.text === atom.a.label) {\r\n        const element = Elements.get(label.text);\r\n        if (options.atomColoring && element) {\r\n            atom.color = ElementColor[label.text] || '#000';\r\n        }\r\n    }\r\n    label.path = paper.text(ps.x, ps.y, label.text).attr({\r\n        font: options.font,\r\n        'font-size': options.fontsz,\r\n        fill: atom.color,\r\n        'font-style': atom.a.pseudo ? 'italic' : ''\r\n    });\r\n    label.rbb = util.relBox(label.path.getBBox());\r\n    draw.recenterText(label.path, label.rbb);\r\n    if (atom.a.atomList !== null) {\r\n        pathAndRBoxTranslate(label.path, label.rbb, ((atom.hydrogenOnTheLeft ? -1 : 1) *\r\n            (label.rbb.width - label.rbb.height)) /\r\n            2, 0);\r\n    }\r\n    atom.label = label;\r\n    return label;\r\n}\r\nfunction getLabelText(atom) {\r\n    if (atom.atomList !== null)\r\n        return atom.atomList.label();\r\n    if (atom.pseudo)\r\n        return atom.pseudo;\r\n    if (atom.alias)\r\n        return atom.alias;\r\n    if (atom.label === 'R#' && atom.rglabel !== null) {\r\n        let text = '';\r\n        for (let rgi = 0; rgi < 32; rgi++) {\r\n            if (atom.rglabel & (1 << rgi)) {\r\n                // eslint-disable-line max-depth\r\n                text += 'R' + (rgi + 1).toString();\r\n            }\r\n        }\r\n        return text;\r\n    }\r\n    return atom.label;\r\n}\r\nfunction showHydroIndex(atom, render, implh, rightMargin) {\r\n    const ps = Scale.obj2scaled(atom.a.pp, render.options);\r\n    const options = render.options;\r\n    const delta = 0.5 * options.lineWidth;\r\n    const hydroIndex = {};\r\n    hydroIndex.text = (implh + 1).toString();\r\n    hydroIndex.path = render.paper.text(ps.x, ps.y, hydroIndex.text).attr({\r\n        font: options.font,\r\n        'font-size': options.fontszsub,\r\n        fill: atom.color\r\n    });\r\n    hydroIndex.rbb = util.relBox(hydroIndex.path.getBBox());\r\n    draw.recenterText(hydroIndex.path, hydroIndex.rbb);\r\n    /* eslint-disable no-mixed-operators */\r\n    pathAndRBoxTranslate(hydroIndex.path, hydroIndex.rbb, rightMargin + 0.5 * hydroIndex.rbb.width + delta, 0.2 * atom.label.rbb.height);\r\n    /* eslint-enable no-mixed-operators */\r\n    return hydroIndex;\r\n}\r\nfunction showRadical(atom, render) {\r\n    const ps = Scale.obj2scaled(atom.a.pp, render.options);\r\n    const options = render.options;\r\n    const paper = render.paper;\r\n    const radical = {};\r\n    let hshift;\r\n    switch (atom.a.radical) {\r\n        case 1:\r\n            radical.path = paper.set();\r\n            hshift = 1.6 * options.lineWidth;\r\n            radical.path.push(draw.radicalBullet(paper, ps.add(new Vec2(-hshift, 0)), options), draw.radicalBullet(paper, ps.add(new Vec2(hshift, 0)), options));\r\n            radical.path.attr('fill', atom.color);\r\n            break;\r\n        case 2:\r\n            radical.path = paper.set();\r\n            radical.path.push(draw.radicalBullet(paper, ps, options));\r\n            radical.path.attr('fill', atom.color);\r\n            break;\r\n        case 3:\r\n            radical.path = paper.set();\r\n            hshift = 1.6 * options.lineWidth;\r\n            radical.path.push(draw.radicalCap(paper, ps.add(new Vec2(-hshift, 0)), options), draw.radicalCap(paper, ps.add(new Vec2(hshift, 0)), options));\r\n            radical.path.attr('stroke', atom.color);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    radical.rbb = util.relBox(radical.path.getBBox());\r\n    let vshift = -0.5 * (atom.label.rbb.height + radical.rbb.height);\r\n    if (atom.a.radical === 3)\r\n        vshift -= options.lineWidth / 2;\r\n    pathAndRBoxTranslate(radical.path, radical.rbb, 0, vshift);\r\n    return radical;\r\n}\r\nfunction showIsotope(atom, render, leftMargin) {\r\n    const ps = Scale.obj2scaled(atom.a.pp, render.options);\r\n    const options = render.options;\r\n    const delta = 0.5 * options.lineWidth;\r\n    const isotope = {};\r\n    isotope.text = atom.a.isotope.toString();\r\n    isotope.path = render.paper.text(ps.x, ps.y, isotope.text).attr({\r\n        font: options.font,\r\n        'font-size': options.fontszsub,\r\n        fill: atom.color\r\n    });\r\n    isotope.rbb = util.relBox(isotope.path.getBBox());\r\n    draw.recenterText(isotope.path, isotope.rbb);\r\n    /* eslint-disable no-mixed-operators */\r\n    pathAndRBoxTranslate(isotope.path, isotope.rbb, leftMargin - 0.5 * isotope.rbb.width - delta, -0.3 * atom.label.rbb.height);\r\n    /* eslint-enable no-mixed-operators */\r\n    return isotope;\r\n}\r\nfunction showCharge(atom, render, rightMargin) {\r\n    const ps = Scale.obj2scaled(atom.a.pp, render.options);\r\n    const options = render.options;\r\n    const delta = 0.5 * options.lineWidth;\r\n    const charge = {};\r\n    charge.text = '';\r\n    const absCharge = Math.abs(atom.a.charge);\r\n    if (absCharge !== 1)\r\n        charge.text = absCharge.toString();\r\n    if (atom.a.charge < 0)\r\n        charge.text += '\\u2013';\r\n    else\r\n        charge.text += '+';\r\n    charge.path = render.paper.text(ps.x, ps.y, charge.text).attr({\r\n        font: options.font,\r\n        'font-size': options.fontszsub,\r\n        fill: atom.color\r\n    });\r\n    charge.rbb = util.relBox(charge.path.getBBox());\r\n    draw.recenterText(charge.path, charge.rbb);\r\n    /* eslint-disable no-mixed-operators */\r\n    pathAndRBoxTranslate(charge.path, charge.rbb, rightMargin + 0.5 * charge.rbb.width + delta, -0.3 * atom.label.rbb.height);\r\n    /* eslint-enable no-mixed-operators */\r\n    return charge;\r\n}\r\nfunction showExplicitValence(atom, render, rightMargin) {\r\n    const mapValence = {\r\n        0: '0',\r\n        1: 'I',\r\n        2: 'II',\r\n        3: 'III',\r\n        4: 'IV',\r\n        5: 'V',\r\n        6: 'VI',\r\n        7: 'VII',\r\n        8: 'VIII',\r\n        9: 'IX',\r\n        10: 'X',\r\n        11: 'XI',\r\n        12: 'XII',\r\n        13: 'XIII',\r\n        14: 'XIV'\r\n    };\r\n    const ps = Scale.obj2scaled(atom.a.pp, render.options);\r\n    const options = render.options;\r\n    const delta = 0.5 * options.lineWidth;\r\n    const valence = {};\r\n    valence.text = mapValence[atom.a.explicitValence];\r\n    if (!valence.text) {\r\n        throw new Error('invalid valence ' + atom.a.explicitValence.toString());\r\n    }\r\n    valence.text = '(' + valence.text + ')';\r\n    valence.path = render.paper.text(ps.x, ps.y, valence.text).attr({\r\n        font: options.font,\r\n        'font-size': options.fontszsub,\r\n        fill: atom.color\r\n    });\r\n    valence.rbb = util.relBox(valence.path.getBBox());\r\n    draw.recenterText(valence.path, valence.rbb);\r\n    /* eslint-disable no-mixed-operators */\r\n    pathAndRBoxTranslate(valence.path, valence.rbb, rightMargin + 0.5 * valence.rbb.width + delta, -0.3 * atom.label.rbb.height);\r\n    /* eslint-enable no-mixed-operators */\r\n    return valence;\r\n}\r\nfunction showHydrogen(atom, render, implh, data) {\r\n    // eslint-disable-line max-statements\r\n    let hydroIndex = data.hydroIndex;\r\n    const hydrogenLeft = atom.hydrogenOnTheLeft;\r\n    const ps = Scale.obj2scaled(atom.a.pp, render.options);\r\n    const options = render.options;\r\n    const delta = 0.5 * options.lineWidth;\r\n    const hydrogen = data.hydrogen;\r\n    hydrogen.text = 'H';\r\n    hydrogen.path = render.paper.text(ps.x, ps.y, hydrogen.text).attr({\r\n        font: options.font,\r\n        'font-size': options.fontsz,\r\n        fill: atom.color\r\n    });\r\n    hydrogen.rbb = util.relBox(hydrogen.path.getBBox());\r\n    draw.recenterText(hydrogen.path, hydrogen.rbb);\r\n    if (!hydrogenLeft) {\r\n        pathAndRBoxTranslate(hydrogen.path, hydrogen.rbb, data.rightMargin + 0.5 * hydrogen.rbb.width + delta, 0);\r\n        data.rightMargin += hydrogen.rbb.width + delta;\r\n    }\r\n    if (implh > 1) {\r\n        hydroIndex = {};\r\n        hydroIndex.text = implh.toString();\r\n        hydroIndex.path = render.paper.text(ps.x, ps.y, hydroIndex.text).attr({\r\n            font: options.font,\r\n            'font-size': options.fontszsub,\r\n            fill: atom.color\r\n        });\r\n        hydroIndex.rbb = util.relBox(hydroIndex.path.getBBox());\r\n        draw.recenterText(hydroIndex.path, hydroIndex.rbb);\r\n        if (!hydrogenLeft) {\r\n            pathAndRBoxTranslate(hydroIndex.path, hydroIndex.rbb, data.rightMargin +\r\n                0.5 * hydroIndex.rbb.width * (options.zoom > 1 ? 1 : options.zoom) +\r\n                delta, 0.2 * atom.label.rbb.height);\r\n            data.rightMargin += hydroIndex.rbb.width + delta;\r\n        }\r\n    }\r\n    if (hydrogenLeft) {\r\n        if (hydroIndex != null) {\r\n            pathAndRBoxTranslate(hydroIndex.path, hydroIndex.rbb, data.leftMargin - 0.5 * hydroIndex.rbb.width - delta, 0.2 * atom.label.rbb.height);\r\n            data.leftMargin -= hydroIndex.rbb.width + delta;\r\n        }\r\n        pathAndRBoxTranslate(hydrogen.path, hydrogen.rbb, data.leftMargin -\r\n            0.5 *\r\n                hydrogen.rbb.width *\r\n                (implh > 1 && options.zoom < 1 ? options.zoom : 1) -\r\n            delta, 0);\r\n        data.leftMargin -= hydrogen.rbb.width + delta;\r\n    }\r\n    return Object.assign(data, { hydrogen, hydroIndex });\r\n}\r\nfunction showWarning(atom, render, leftMargin, rightMargin) {\r\n    const ps = Scale.obj2scaled(atom.a.pp, render.options);\r\n    const delta = 0.5 * render.options.lineWidth;\r\n    const tfx = util.tfx;\r\n    const warning = {};\r\n    const y = ps.y + atom.label.rbb.height / 2 + delta;\r\n    warning.path = render.paper\r\n        .path('M{0},{1}L{2},{3}', tfx(ps.x + leftMargin), tfx(y), tfx(ps.x + rightMargin), tfx(y))\r\n        .attr(render.options.lineattr)\r\n        .attr({ stroke: '#F00' });\r\n    warning.rbb = util.relBox(warning.path.getBBox());\r\n    return warning;\r\n}\r\nfunction showAttpnt(atom, render, lsb, addReObjectPath) {\r\n    // eslint-disable-line max-statements\r\n    const asterisk = '∗';\r\n    const ps = Scale.obj2scaled(atom.a.pp, render.options);\r\n    const options = render.options;\r\n    const tfx = util.tfx;\r\n    let i, j;\r\n    for (i = 0; i < 4; ++i) {\r\n        let attpntText = '';\r\n        if (atom.a.attpnt & (1 << i)) {\r\n            if (attpntText.length > 0)\r\n                attpntText += ' ';\r\n            attpntText += asterisk;\r\n            for (j = 0; j < (i === 0 ? 0 : i + 1); ++j)\r\n                attpntText += \"'\";\r\n            let pos0 = new Vec2(ps);\r\n            let pos1 = ps.addScaled(lsb, 0.7 * options.scale);\r\n            const attpntPath1 = render.paper.text(pos1.x, pos1.y, attpntText).attr({\r\n                font: options.font,\r\n                'font-size': options.fontsz,\r\n                fill: atom.color\r\n            });\r\n            const attpntRbb = util.relBox(attpntPath1.getBBox());\r\n            draw.recenterText(attpntPath1, attpntRbb);\r\n            const lsbn = lsb.negated();\r\n            /* eslint-disable no-mixed-operators */\r\n            pos1 = pos1.addScaled(lsbn, util.shiftRayBox(pos1, lsbn, Box2Abs.fromRelBox(attpntRbb)) +\r\n                options.lineWidth / 2);\r\n            /* eslint-enable no-mixed-operators */\r\n            pos0 = shiftBondEnd(atom, pos0, lsb, options.lineWidth);\r\n            const n = lsb.rotateSC(1, 0);\r\n            const arrowLeft = pos1\r\n                .addScaled(n, 0.05 * options.scale)\r\n                .addScaled(lsbn, 0.09 * options.scale);\r\n            const arrowRight = pos1\r\n                .addScaled(n, -0.05 * options.scale)\r\n                .addScaled(lsbn, 0.09 * options.scale);\r\n            const attpntPath = render.paper.set();\r\n            attpntPath.push(attpntPath1, render.paper\r\n                .path('M{0},{1}L{2},{3}M{4},{5}L{2},{3}L{6},{7}', tfx(pos0.x), tfx(pos0.y), tfx(pos1.x), tfx(pos1.y), tfx(arrowLeft.x), tfx(arrowLeft.y), tfx(arrowRight.x), tfx(arrowRight.y))\r\n                .attr(render.options.lineattr)\r\n                .attr({ 'stroke-width': options.lineWidth / 2 }));\r\n            addReObjectPath(LayerMap.indices, atom.visel, attpntPath, ps);\r\n            lsb = lsb.rotate(Math.PI / 6);\r\n        }\r\n    }\r\n}\r\n// function getStereoLabelText(atom, aid, render) {\r\n// \tconst struct = render.ctab.molecule;\r\n// \tconst frag = struct.frags.get(atom.a.fragment);\r\n// \tconst stereo = frag.getStereoAtomMark(aid);\r\n// \tif (!stereo.type) return null;\r\n//\r\n// \treturn stereo.type + (stereo.number || '');\r\n// }\r\nfunction getAamText(atom) {\r\n    let aamText = '';\r\n    if (atom.a.aam > 0)\r\n        aamText += atom.a.aam;\r\n    if (atom.a.invRet > 0) {\r\n        if (aamText.length > 0)\r\n            aamText += ',';\r\n        if (atom.a.invRet === 1)\r\n            aamText += 'Inv';\r\n        else if (atom.a.invRet === 2)\r\n            aamText += 'Ret';\r\n        else\r\n            throw new Error('Invalid value for the invert/retain flag');\r\n    }\r\n    if (atom.a.exactChangeFlag > 0) {\r\n        if (aamText.length > 0)\r\n            aamText += ',';\r\n        if (atom.a.exactChangeFlag === 1)\r\n            aamText += 'ext';\r\n        else\r\n            throw new Error('Invalid value for the exact change flag');\r\n    }\r\n    return aamText;\r\n}\r\nfunction getQueryAttrsText(atom) {\r\n    let queryAttrsText = '';\r\n    if (atom.a.ringBondCount !== 0) {\r\n        if (atom.a.ringBondCount > 0) {\r\n            queryAttrsText += 'rb' + atom.a.ringBondCount.toString();\r\n        }\r\n        else if (atom.a.ringBondCount === -1)\r\n            queryAttrsText += 'rb0';\r\n        else if (atom.a.ringBondCount === -2)\r\n            queryAttrsText += 'rb*';\r\n        else\r\n            throw new Error('Ring bond count invalid');\r\n    }\r\n    if (atom.a.substitutionCount !== 0) {\r\n        if (queryAttrsText.length > 0)\r\n            queryAttrsText += ',';\r\n        if (atom.a.substitutionCount > 0) {\r\n            queryAttrsText += 's' + atom.a.substitutionCount.toString();\r\n        }\r\n        else if (atom.a.substitutionCount === -1)\r\n            queryAttrsText += 's0';\r\n        else if (atom.a.substitutionCount === -2)\r\n            queryAttrsText += 's*';\r\n        else\r\n            throw new Error('Substitution count invalid');\r\n    }\r\n    if (atom.a.unsaturatedAtom > 0) {\r\n        if (queryAttrsText.length > 0)\r\n            queryAttrsText += ',';\r\n        if (atom.a.unsaturatedAtom === 1)\r\n            queryAttrsText += 'u';\r\n        else\r\n            throw new Error('Unsaturated atom invalid value');\r\n    }\r\n    if (atom.a.hCount > 0) {\r\n        if (queryAttrsText.length > 0)\r\n            queryAttrsText += ',';\r\n        queryAttrsText += 'H' + (atom.a.hCount - 1).toString();\r\n    }\r\n    return queryAttrsText;\r\n}\r\nfunction pathAndRBoxTranslate(path, rbb, x, y) {\r\n    path.translateAbs(x, y);\r\n    rbb.x += x;\r\n    rbb.y += y;\r\n}\r\nfunction bisectLargestSector(atom, struct) {\r\n    let angles = [];\r\n    atom.a.neighbors.forEach((hbid) => {\r\n        const hb = struct.halfBonds.get(hbid);\r\n        hb && angles.push(hb.ang);\r\n    });\r\n    angles = angles.sort((a, b) => a - b);\r\n    const da = [];\r\n    for (let i = 0; i < angles.length - 1; ++i) {\r\n        da.push(angles[(i + 1) % angles.length] - angles[i]);\r\n    }\r\n    da.push(angles[0] - angles[angles.length - 1] + 2 * Math.PI);\r\n    let daMax = 0;\r\n    let ang = -Math.PI / 2;\r\n    for (let i = 0; i < angles.length; ++i) {\r\n        if (da[i] > daMax) {\r\n            daMax = da[i];\r\n            ang = angles[i] + da[i] / 2;\r\n        }\r\n    }\r\n    return new Vec2(Math.cos(ang), Math.sin(ang));\r\n}\r\nfunction shiftBondEnd(atom, pos0, dir, margin) {\r\n    let t = 0;\r\n    const visel = atom.visel;\r\n    for (let k = 0; k < visel.exts.length; ++k) {\r\n        const box = visel.exts[k].translate(pos0);\r\n        t = Math.max(t, util.shiftRayBox(pos0, dir, box));\r\n    }\r\n    if (t > 0)\r\n        pos0 = pos0.addScaled(dir, t + margin);\r\n    return pos0;\r\n}\r\nexport default ReAtom;\r\n//# sourceMappingURL=reatom.js.map","references":["/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/domain/entities/index.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/domain/constants/index.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/restruct/generalEnumTypes.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/restruct/reobject.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/restruct/restruct.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/raphaelRender.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/domain/helpers/index.ts","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/draw.js","/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/src/application/render/util.ts"],"map":"{\"version\":3,\"file\":\"reatom.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/application/render/restruct/reatom.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/usr/local/google/home/waich/workspace/ketcher/packages/ketcher-core/node_modules/.cache/rollup-plugin-typescript2/placeholder/application/render/restruct/reatom.d.ts","writeByteOrderMark":false,"text":"/****************************************************************************\r\n * Copyright 2021 EPAM Systems\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n ***************************************************************************/\r\nimport { Atom, Box2Abs } from \"../../../domain/entities\";\r\nimport ReObject from './reobject';\r\nimport ReStruct from './restruct';\r\nimport { Render } from '../raphaelRender';\r\ninterface ElemAttr {\r\n    text: string;\r\n    path: any;\r\n    rbb: {\r\n        x: number;\r\n        y: number;\r\n        width: number;\r\n        height: number;\r\n    };\r\n}\r\ndeclare class ReAtom extends ReObject {\r\n    a: Atom;\r\n    showLabel: boolean;\r\n    hydrogenOnTheLeft: boolean;\r\n    color: string;\r\n    component: number;\r\n    label?: ElemAttr;\r\n    constructor(atom: Atom);\r\n    static isSelectable(): true;\r\n    getVBoxObj(render: Render): Box2Abs | null;\r\n    drawHover(render: Render): any;\r\n    makeHoverPlate(render: Render): any;\r\n    makeSelectionPlate(restruct: ReStruct, paper: any, styles: any): any;\r\n    show(restruct: ReStruct, aid: number, options: any): void;\r\n}\r\nexport declare function getColorFromStereoLabel(options: any, stereoLabel: any): any;\r\nexport default ReAtom;\r\n"}}
